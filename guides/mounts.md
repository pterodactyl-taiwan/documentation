# 使用掛載

掛載是一項允許管理員將主機檔案系統中的其他目錄安裝到伺服器容器中的功能。

## Wings 配置

出於安全原因，預設情況下無法在節點上掛載目錄。必須在 Wings 配置中明確指定應該可掛載的目錄。

在 Wings 配置檔案 (`/etc/pterodactyl/config.yml`) 中，`allowed_mounts` 欄位用於列出可掛載的目錄。列出一個目錄時(可以列出多個)，在這個目錄下的所有子目錄都可以掛載，而不需要再次設定。

```yml
allowed_mounts:
- /example
```

您必須重新啟動 Wings 才能將新更改的內容應用到您的 Wings 配置中。

## 面板配置

您必須在管理面板中配置掛載才能將它們與您的伺服器一起使用。它們由節點上的來源路徑和將在容器中安裝的目標路徑(掛載路徑)組成。

:::warning 容器中的路徑
掛載不能掛載到 `/home/container` 裡，包括其任何子目錄中，也不能將伺服器 A 的目錄或其他伺服器目錄交叉掛載到伺服器 B 中。
:::

### 建立掛載

1. 在管理面板中找並開啟 **掛載**。
2. 建立一個新的掛載。
3. 按要求填寫詳細資訊。
   - **名稱**: 您的掛載名稱。
   - **描述**: 您的掛載描述。
   - **來源路徑**: 節點機器上的資料夾或檔案的絕對路徑。
   - **掛載路徑**: 掛載將放置在伺服器內部的絕對路徑，**不能**在路徑中包含 `/home/container`。
   - **只讀**: 在容器檔案系統內此掛載是否為只讀。
   - **使用者可掛載**: 是否允許使用者自行掛載此掛載。
4. 建立掛載後，您需要新增可以使用此掛載的 **預設** 和 **節點**。

:::warning 多臺伺服器使用的掛載
所有使用相同掛載的伺服器將**僅**在同一節點上共享其內容。掛載在節點之間不同步。
:::

### 為伺服器分配掛載

1. 在管理面板中導航到您想要使用掛載的伺服器
2. 進入掛載頁面
3. 點選 **+** 按鈕
4. 重啟伺服器

掛載的檔案應該在容器的目標路徑中可用。您可以暫時將伺服器啟動命令更改為 `ls <掛載目標>`，如果配置正確，它應該會輸出安裝的內容。

:::warning 無法訪問掛載
掛載不會出現在面板的檔案管理器中，也不能透過 SFTP 訪問。 但是!伺服器本身將能夠檢視並使用這些掛載內容。
:::

### 掛載例項

下面的示例掛載儲存在路徑 `/var/lib/pterodactyl/mounts` 中，我們將其新增到 Wings `config.yml` 中

```yml
allowed_mounts:
  - /var/lib/pterodactyl/mounts
```

![](./../.vuepress/public/gmod_mount_example.png)
